
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Project CSS -->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- font family-->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
          rel="stylesheet">

    <!-- Boxi Icon -->
    <link href="https://stagingapp.contentatscale.ai/assets/css/icon.css" rel="stylesheet">

    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"> -->

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet"/>

    <!-- Select 2  -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet"/>

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- slick slider CSS-->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    
    <title>Content At Scale</title>
</head>
<body>
<header>
    <div class="header-container">
        <div class="d-flex justify-content-between align-items-center px-3 h-100">
            <div class="logo-menu-area d-flex justify-content-center align-items-center">
                <a href="javascript: void(0);" class="res-menu me-3">
                    <span></span>
                    <span></span>
                    <span></span>
                </a>
                <div class="logo">
                    <a href="https://stagingapp.contentatscale.ai"><img src="https://stagingapp.contentatscale.ai/assets/images/logo-whiteX.png"/></a>
                </div>
                <div class="team-selection fields" hidden>
                    <select name="select_team" id="select-team" class="form-control px-3 select2"
                            data-team="1">
                                                    <option
                                value="449" selected>My Team</option>
                                            </select>
                </div>
            </div>
            <div class="profile-view-area d-flex">
                <a href="javascript: void(0);" class="d-flex align-items-center offer position-relative">
                    <img src="https://stagingapp.contentatscale.ai/assets/images/offer-icon.svg" />
                    <span class="notification-alert"></span>
                </a>
                <div class="available-credit">
                    <div class="credit">
                        POSTS AVAILABLE
                        <span class="badge">0</span>
                    </div>
                    <div class="add-more">
                        + <a href="https://stagingapp.contentatscale.ai/billing">Add more</a>
                    </div>
                </div>
                <div class="search-area drop-down">
                    <a id="search" class="d-flex align-items-center search">
                        <img src="https://stagingapp.contentatscale.ai/assets/images/search.svg" />
                    </a>
                </div>
                <div class="dropdown">
                    <a href="javascript: void(0);" class="d-flex align-items-center notifications position-relative" id="notification" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="https://stagingapp.contentatscale.ai/assets/images/bell-icon.svg" />
                                            </a>
                    <div id="notification-list-container" class="dropdown-menu notification-section"  aria-labelledby="notification">
                        <div class="nt-header">
                            <h4>Notifications</h4>
                                                    </div>
                        <div class="nt-area">
                                                            <div class="p-2 text-center">No notifications found!</div>
                                                    </div>
                    </div>
                </div>
                <div class="drop-down user-option">
                    <a href="javascript: void(0);" class="d-flex align-items-center px-4" id="userAction"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <img
                            src="/storage/images/profile/2023/02/optimisation-graph1676572833.png"
                            class="avatar"/>
                        <strong class="ms-2">Anandhan Lead <img src="https://stagingapp.contentatscale.ai/assets/images/downarrow.svg"
                                                                             class="ms-1"/></strong>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right pb-0" aria-labelledby="userAction">
                        <a class="dropdown-item" href="https://stagingapp.contentatscale.ai/profile">
                            <i class="bx bx-user-circle me-2"></i> Edit Profile
                        </a>
                        <a class="dropdown-item" href="https://stagingapp.contentatscale.ai/post-status">
                            <i class="bx bx-message-dots me-2"></i> Post Statuses
                        </a>
                        <a class="dropdown-item" href="https://stagingapp.contentatscale.ai/billing">
                            <i class="bx bx-credit-card me-2"></i> Billing
                        </a>
                        <a class="dropdown-item" href="https://stagingapp.contentatscale.ai/users">
                            <i class="bx bx-user me-2"></i> Users
                        </a>
                        <a class="dropdown-item" href="https://stagingapp.contentatscale.ai/settings/white-label">
                            <i class="bx bx-brush me-2"></i> White Label
                        </a>
                        <div class="dropdown-divider mb-0"></div>
                        <a class="dropdown-item" href="https://stagingapp.contentatscale.ai/logout"
                           onclick="event.preventDefault();
                                                     document.getElementById('logout-form').submit();">
                            <i class="bx bx-power-off me-2"></i> Logout
                        </a>

                        <form id="logout-form" action="https://stagingapp.contentatscale.ai/logout" method="POST" class="d-none">
                            <input type="hidden" name="_token" value="WSdlEELfuidXJ8JCp3s1Mff27IEDjlo3r40Uc7ZI">                        </form>
                    </div>
                </div>
            </div>
            <div class="filter-search-area search-field">
                <form name="search_results" action="https://stagingapp.contentatscale.ai/search-results" method="GET">
                    <span id="search-icon" class="search-icon" onclick="search_results.submit()"
                          onkeydown="search(e)"><img
                            src="https://stagingapp.contentatscale.ai/assets/images/search-icon.svg"></span>
                    <input type="text" name="search_input" id="search-input" placeholder="Explore the Content Machine">
                    <a class="hide-search">
                        <img src="https://stagingapp.contentatscale.ai/assets/images/close.svg" alt="">
                    </a>
                </form>
            </div>
        </div>
    </div>
</header>

<!-- Wrapper-->
<div class="wrapper d-flex">

    <!-- Side Bar Main-->
    <nav id="sidebar">
        <div class="close-menu"></div>
        <ul class="list-unstyled components mb-5">
            <li class="">
                <a href="https://stagingapp.contentatscale.ai">
                    <span><img src="https://stagingapp.contentatscale.ai/assets/images/dashboard.svg"/></span>
                    Dashboard
                </a>
            </li>
            <li class="">
                <a href="https://stagingapp.contentatscale.ai/projects">
                    <span><img src="https://stagingapp.contentatscale.ai/assets/images/projects.svg"/></span>
                    Projects
                </a>
            </li>
            <li>
                <a href="javascript: void(0)">
                    <span><img src="https://stagingapp.contentatscale.ai/assets/images/settings.svg"/></span>
                    Settings
                </a>
            </li>
        </ul>
    </nav>
    <!-- Side Bar Main-->

    
    <!--Whitelabel Page Container-->
    <div id="content">
        <div class="full-lenth-area full-section">
            <div class="sections">
                <div class="row">
                    <div class="col-lg-10 col-md-12 white-label">
                        <div class="card-box">
                            <form id="update-domain" action="">
                                <h1 class="main-heading mb-5">White Label</h1>
                                    <div class="row">
                                        <div class="col-lg-8">
                                            <div class="fields availability">
                                                <label for="user-subdomain">White label</label>
                                                <div class="input-group">
                                                    <input type="text" id="subdomain"
                                                           name="subdomain"
                                                           pattern="[a-zA-Z0-9]+" class="form-control" value=""
                                                           placeholder="Enter your company" required
                                                           aria-describedby="subdomain-addon2"/>
                                                    <span class="input-group-text"
                                                          id="subdomain-addon2">.contentatscale.ai</span>
                                                    <button type="button" id="check-availability"
                                                            class="btn cs-secondary-btn">Check Availability
                                                    </button>
                                                </div>
                                                <small>Enter your desired subdomain. You will always be able to login
                                                    into Content at Scale from here. LETTERS only. Once saved, this
                                                    can't be changed!</small>
                                                <span id="availability-response" hidden></span>
                                            </div>
                                            <div class="fields">
                                                <label for="user-subdomain">Your Subdomain</label>
                                                <input type="text" id="user-subdomain" name="user_subdomain"
                                                       class="form-control" value=""
                                                       placeholder="content.yourcompany.com"/>
                                                <small>This is where you, your team, and clients can log into the platform. We
                                                    will share the DNS updates to
                                                    make
                                                    once you have saved this page.</small>
                                            </div>
                                            <div class="fields">
                                                <label for="title">App/Page Title</label>
                                                <input type="text" id="title" name="title"
                                                       value=""
                                                       placeholder="What do you want your app's page title to be?">
                                                <span>This is what will show in the Page Title</span>
                                            </div>
                                        </div>
                                    </div>
                                <div class="label-selection mb-5">
                                    <div class="select-box">
                                        <label for="domain-logo">Logo</label>
                                        <div class="label-box">
                                                                                            <img id="uploaded-domain-logo" class="logo-img" alt="">
                                                                                    </div>
                                        <small>
                                            <input type="file" id="domain-logo" name="domain_logo" class="add-logo"
                                                   accept="image/png, image/jpg, image/jpeg">
                                            Change
                                        </small>
                                    </div>
                                    <div class="select-box">
                                        <label>Color</label>
                                        <div class="color-select">
                                            <div class="color-box">
                                                <div class="label-box">
                                                    <input type="color" name="primary_color"
                                                           value="#2DD0B7">
                                                </div>
                                                <small>
                                                    Primary
                                                </small>
                                            </div>
                                            <div class="color-box">
                                                <div class="label-box">
                                                    <input type="color" name="secondary_color"
                                                           value="#1D1B28">
                                                </div>
                                                <small>
                                                    Secondary
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex act-btn pt-5">
                                    <button type="submit" class="cs-secondary-btn">Update</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Whitelabel Page Container-->
</div>
<!-- Wrapper-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

<!-- JS -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="https://stagingapp.contentatscale.ai/assets/js/custom.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<!-- select 2 -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<!-- SweetAlert -->
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Jquery UI -->
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

<!-- slick slider Js-->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

<script>
  window.intercomSettings = {
    api_base: "https://api-iam.intercom.io",
    app_id: "kmzkjwtv",
    name: "Anandhan Lead", // Full name
    email: "sivainccet@gmail.com", // Email address
    created_at: "", // Signup date as a Unix timestamp
    user_hash: "64f2e92e23905dbc566eb74d7244d3512dbb63b42d96bdbb17ff652e6719523d"
};
</script>
<script>
// We pre-filled your app ID in the widget URL: 'https://widget.intercom.io/widget/kmzkjwtv'
    (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/kmzkjwtv';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
        $('.team-selector').on('change', function(){
        $('.switch-team').trigger('submit');
    });
    $('body').on('submit', '.switch-team', function(e){
        e.preventDefault();
        var formData = $(this).serialize();
        jQuery.ajax({
            type: "POST",
            url: "",
            data: formData,
            success: function(response) {
                location.reload();
            }
        });
    });
</script>
<script>
    $(document).ready(function () {
        $("#mark-all-as-read").on('click', function (e) {
            e.preventDefault();
            $.ajax({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                },
                method: 'POST',
                url: 'https://stagingapp.contentatscale.ai/notifications/mark-all-as-read',
                success: function (response) {
                    toastr.success(response['message']);
                    $("#notification-list-container").find('.nt-area a').removeClass('unread');
                    $("#notification").find('.notification-alert').attr('hidden', true);
                },
                error: function (error) {
                    toastr.error('Something went wrong.');
                }
            })
            return false;
        });
    });
</script>
    <script>
        $(document).ready(function () {
            $("#update-domain").submit(function (e) {
                e.preventDefault();
                if ('') {
                    let formData = new FormData(this);
                    updateWhiteLabelData(formData);
                } else {
                    Swal.fire({
                        title: 'Are you sure?',
                        text: " Once saved, subdomain can't be changed!",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'save subdomain'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            let formData = new FormData(this);
                            updateWhiteLabelData(formData);
                        }
                    });
                }
            });

            function updateWhiteLabelData(formData) {
                $.ajax({
                    headers: {
                        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                    },
                    method: 'POST',
                    url: 'https://stagingapp.contentatscale.ai/settings/sub-domain',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function (response) {
                        if (response['status'] === 'Success') {
                            toastr.success(response['message']);
                            if (response['method'] === 'create') {
                                window.location.reload();
                            }
                        } else {
                            toastr.error(response['message']);
                        }
                    },
                    error: function (error) {
                        if (error.status === 422) {
                            $.each(error.responseJSON.errors, function (key, value) {
                                let span = `<span class="text-danger" data-element='white-label-error'>${value[0]}</span>`
                                $(span).insertBefore($("#update-domain").children().last());
                            });
                        } else {
                            toastr.error('Something went wrong');
                        }
                    }
                });
            }

            $("#check-availability").click(function () {
                if ($("#subdomain").val() !== '') {
                    $("#availability-response").removeClass('text-danger').attr('hidden', true);
                    $.ajax({
                        headers: {
                            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                        },
                        url: 'https://stagingapp.contentatscale.ai/settings/availability',
                        data: {
                            'domain': $("#domain").val(),
                            'subdomain': $("#subdomain").val()
                        },
                        success: function (response) {
                            if (response['status'] === 'Success') {
                                $("#availability-response").text(response['message']).addClass('text-success').attr('hidden', false)
                            } else {
                                $("#availability-response").text(response['message']).addClass('text-danger').attr('hidden', false)
                            }
                        },
                        error: function (error) {
                            toastr.error('Something went wrong');
                        }
                    })
                } else {
                    $("#availability-response").text('No domain value is provided').addClass('text-danger').attr('hidden', false)
                }
            });

            $("#user-subdomain").keyup(function (e) {
                var pattern = /^(((?!\-))(xn\-\-)?[a-z0-9\-_]{0,61}[a-z0-9]{1,1}\.)*(xn\-\-)?([a-z0-9\-]{1,61}|[a-z0-9\-]{1,30})\.[a-z]{2,}$/;
                var currentVal = $(this).val();
                if (currentVal != '') {
                    if (!pattern.test(currentVal)) {
                        $(this).removeClass("border-success");
                        $(this).addClass("border-danger");
                    } else {
                        $(this).removeClass("border-danger");
                        $(this).addClass("border-success");
                    }
                } else {
                    $(this).removeClass("border-success");
                    $(this).removeClass("border-danger");
                }

            });

            $("#check-dns").click(function () {
                $(".check-loader").html('<div class="spinner-border spinner-border-sm text-secondary" role="status"><span class="visually-hidden"></span></div>');
                $.ajax({
                    headers: {
                        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                    },
                    url: $(this).attr('href'),
                    data: {
                        'id': $(this).attr('data-id'),
                        'sub_domain': $(this).attr('data-subdomain'),
                        'white_label': $(this).attr('data-label')
                    },
                    success: function (response) {
                        if (response['status'] === 'Success') {
                            $(".cname-alert").hide();
                            $(".check-dns").hide();
                            toastr.success(response['message']);
                            $(".check-loader").html('');
                        } else {
                            toastr.error(response['message']);
                            $(".check-loader").html('');
                        }
                    },
                    error: function (error) {
                        toastr.error('Something went wrong');
                    }
                })
                return false;
            });

            $("#domain-logo").on('change', function () {
                if (window.FileReader) {
                    var file = $(this.files);
                    if (file[0] && file[0].type.match('image.*')) {
                        var reader = new FileReader();
                        reader.readAsDataURL(file[0]);
                    }
                    reader.onloadend = function () {
                        $("#uploaded-domain-logo").attr('src', reader.result);
                    }
                }
            });
        });
    </script>
</body>
</html>
